{"version":3,"sources":["PieChart.js","HorizontalBarChart.js","variables.js","Profile.js","ExtendibleList.js","Compare.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["PieChart","props","canvasRef","React","createRef","this","chart","data","labels","datasets","values","update","Chart","current","type","options","legend","display","maintainAspectRatio","aspectRatio","tooltips","callbacks","label","tooltipItem","index","parseInt","ref","Component","HorizontalBarChart","shown","Math","min","length","labelsShown","slice","valuesShown","scales","yAxes","ticks","fontColor","xAxes","beginAtZero","tooltipUnit","bind","backgroundColor","onClick","loadMore","isLocalhost","Boolean","window","location","hostname","match","api_url","origin","frontend_url","Profile","state","error","fetch","params","id","then","response","json","setState","catch","totalSongs","totalGenres","className","key","placement","overlay","variant","artists","reduce","a","b","SongCount","genres","ArtistCount","xs","md","last_refreshed","username","href","map","d","Name","span","offset","Control","value","readOnly","ArtistListItem","Id","SongListItem","Track","Artists","e","join","ExtendibleList","rows","i","push","child","Compare","id1","id2","user1","name","user2","songs","round","songcount","Home","ShareRedirect","App","path","exact","component","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6VAiDeA,E,YA5Cd,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,UAAYC,IAAMC,YAFL,E,kFAMlBC,KAAKC,MAAMC,KAAKC,OAASH,KAAKJ,MAAMO,OACpCH,KAAKC,MAAMC,KAAKE,SAAS,GAAGF,KAAOF,KAAKJ,MAAMS,OAC9CL,KAAKC,MAAMK,W,0CAIXN,KAAKC,MAAQ,IAAIM,IAAMP,KAAKH,UAAUW,QAAS,CAC9CC,KAAM,MACNC,QAAS,CACRC,OAAQ,CACPC,SAAS,GAEVC,qBAAqB,EACrBC,YAAa,EACbC,SAAU,CACLC,UAAW,CACTC,MAAO,SAASC,EAAahB,GAC5B,OAAOA,EAAKC,OAAOe,EAAYC,OAAS,MAAQC,SAAS,IAAIlB,EAAKE,SAAS,GAAGF,KAAKgB,EAAYC,QAAU,QAKlHjB,KAAM,CACLC,OAAQH,KAAKJ,MAAMO,OACnBC,SAAU,CAAC,CACVF,KAAMF,KAAKJ,MAAMS,c,+BAQpB,OAAO,4BAAQgB,IAAKrB,KAAKH,gB,GAxCJC,IAAMwB,WC4EdC,E,YA1Ed,WAAY3B,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,UAAYC,IAAMC,YAEvB,EAAKyB,MAAQC,KAAKC,IAAI,EAAG,EAAK9B,MAAMO,OAAOwB,QAC3C,EAAKC,YAAc,EAAKhC,MAAMO,OAAO0B,MAAM,EAAE,EAAKL,OAClD,EAAKM,YAAc,EAAKlC,MAAMS,OAAOwB,MAAM,EAAE,EAAKL,OANhC,E,kFAUlBxB,KAAKC,MAAMC,KAAKC,OAASH,KAAKJ,MAAMO,OAAO0B,MAAM,EAAG7B,KAAKwB,OACzDxB,KAAKC,MAAMC,KAAKE,SAAS,GAAGF,KAAOF,KAAKJ,MAAMS,OAAOwB,MAAM,EAAE7B,KAAKwB,OAClExB,KAAKC,MAAMK,W,0CAIXN,KAAKC,MAAQ,IAAIM,IAAMP,KAAKH,UAAUW,QAAS,CAC9CC,KAAM,gBACNC,QAAS,CACRC,OAAQ,CACPC,SAAS,GAEVmB,OAAQ,CACPC,MAAO,CAAC,CACPC,MAAO,CACNC,UAAW,WAGbC,MAAO,CAAC,CACPF,MAAO,CACNG,aAAY,EACZF,UAAW,YAIdrB,qBAAqB,EACrBC,YAAa,EACbC,SAAU,CACLC,UAAW,CACTC,MAAO,SAASC,EAAahB,GAC5B,OAAOA,EAAKC,OAAOe,EAAYC,OAAS,MAAQjB,EAAKE,SAAS,GAAGF,KAAKgB,EAAYC,OAAS,IAAMnB,KAAKJ,MAAMyC,aAC1GC,KAAKtC,SAIhBE,KAAM,CACLC,OAAQH,KAAK4B,YACbxB,SAAU,CAAC,CACVF,KAAMF,KAAK8B,YACZS,gBAAiB,6B,iCAQnBvC,KAAKwB,MAAQC,KAAKC,IAAI1B,KAAKwB,MAAQ,EAAGxB,KAAKJ,MAAMO,OAAOwB,QACxD3B,KAAKC,MAAMC,KAAKC,OAASH,KAAKJ,MAAMO,OAAO0B,MAAM,EAAG7B,KAAKwB,OACzDxB,KAAKC,MAAMC,KAAKE,SAAS,GAAGF,KAAOF,KAAKJ,MAAMS,OAAOwB,MAAM,EAAE7B,KAAKwB,OAClExB,KAAKC,MAAMK,W,+BAIX,OACC,6BACC,4BAAQe,IAAKrB,KAAKH,YACjBG,KAAKwB,MAAQxB,KAAKJ,MAAMO,OAAOwB,QAAU,kBAAC,IAAD,CAAQa,QAASxC,KAAKyC,SAASH,KAAKtC,OAApC,kB,GApEbF,IAAMwB,WCLjCoB,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAIOC,EAAUN,EAAc,6BAA+BE,OAAOC,SAASI,OAAS,QAChFC,EAAeR,EAAc,yBAA2BE,OAAOC,SAASI,OAAS,ICkI/EE,E,YA9Hd,WAAYvD,GAAQ,IAAD,8BAClB,4CAAMA,KAEDwD,MAAQ,CACZlD,KAAM,KACNmD,MAAO,MALU,E,iFASE,IAAD,OACnBC,MAAMN,EAAU,WAAahD,KAAKJ,MAAMmD,MAAMQ,OAAOC,IACpDC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAvD,GACL,EAAK0D,SAAS,CAAE1D,WAEhB2D,MAAM,SAAAR,GACN,EAAKO,SAAS,CAACP,c,+BAMhB,IAAIS,EAAa,EACbC,EAAc,EAClB,OAAwB,MAApB/D,KAAKoD,MAAMC,MAEb,kBAAC,IAAD,CAAWW,UAAU,2BACrB,0GACA,kBAAC,IAAD,CACAC,IAAI,UACJC,UAAU,SACVC,QACC,kBAAC,IAAD,CAASX,GAAG,mBAAZ,iHAKD,kBAAC,IAAD,CAAQY,QAAQ,aAAhB,aAMyB,MAAnBpE,KAAKoD,MAAMlD,MAClB4D,EAAa9D,KAAKoD,MAAMlD,KAAKmE,QAAQC,OAAO,SAACC,EAAEC,GAAH,OAASD,EAAInD,SAASoD,EAAEC,YAAW,GAC/EV,EAAc/D,KAAKoD,MAAMlD,KAAKwE,OAAOJ,OAAO,SAACC,EAAEC,GAAH,OAASD,EAAInD,SAASoD,EAAEG,cAAa,GAGhF,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAKX,UAAU,gBACf,kBAAC,IAAD,CAAKY,GAAI,GAAIC,GAAI,GAAjB,mBACiB7E,KAAKoD,MAAMlD,KAAK4E,gBAEjC,kBAAC,IAAD,CAAKF,GAAI,GAAIC,GAAI,EAAGb,UAAU,eAC9B,4BAAKhE,KAAKoD,MAAMlD,KAAK6E,WAErB,kBAAC,IAAD,CAAKH,GAAI,GAAIC,GAAI,EAAGb,UAAU,cAC9B,kBAAC,IAAD,CACAC,IAAI,UACJC,UAAU,SACVC,QACC,kBAAC,IAAD,CAASX,GAAG,mBAAZ,iHAKD,kBAAC,IAAD,CAAQY,QAAQ,YAAYY,KAAMhC,EAAU,gBAA5C,cAMA,kBAAC,IAAD,CAAMgB,UAAU,gBAChB,kBAAC,IAAD,CAAKY,GAAI,GAAIC,GAAI,GACjB,wBAAIb,UAAU,eAAd,+BACA,kBAAC,EAAD,CACA7D,OAAQH,KAAKoD,MAAMlD,KAAKmE,QAAQY,IAAI,SAAAC,GAAC,OAAIA,EAAEC,OAC3C9E,OAAQL,KAAKoD,MAAMlD,KAAKmE,QAAQY,IAAI,SAAAC,GAAC,OAAIA,EAAET,UAAUX,OAGrD,kBAAC,IAAD,CAAKc,GAAI,GAAIC,GAAI,GACjB,wBAAIb,UAAU,eAAd,8BACA,kBAAC,EAAD,CACA7D,OAAQH,KAAKoD,MAAMlD,KAAKwE,OAAOO,IAAI,SAAAC,GAAC,OAAIA,EAAEC,OAC1C9E,OAAQL,KAAKoD,MAAMlD,KAAKwE,OAAOO,IAAI,SAAAC,GAAC,OAAIA,EAAEP,YAAYZ,QAKtD,kBAAC,IAAD,CAAMC,UAAU,gBAChB,kBAAC,IAAD,CAAKY,GAAI,GAAIC,GAAI,EAAGb,UAAU,eAC9B,mDACA,kBAAC,EAAD,CACA7D,OAAQH,KAAKoD,MAAMlD,KAAKmE,QAAQY,IAAI,SAAAC,GAAC,OAAIA,EAAEC,OAC3C9E,OAAQL,KAAKoD,MAAMlD,KAAKmE,QAAQY,IAAI,SAAAC,GAAC,OAAIA,EAAET,YAC3CpC,YAAY,WAGZ,kBAAC,IAAD,CAAKuC,GAAI,GAAIC,GAAI,EAAGb,UAAU,eAC9B,kDACA,kBAAC,EAAD,CACA7D,OAAQH,KAAKoD,MAAMlD,KAAKwE,OAAOO,IAAI,SAAAC,GAAC,OAAIA,EAAEC,OAC1C9E,OAAQL,KAAKoD,MAAMlD,KAAKwE,OAAOO,IAAI,SAAAC,GAAC,OAAIA,EAAEP,cAC1CtC,YAAY,cAMZ,kBAAC,IAAD,CAAM2B,UAAU,gBAChB,kBAAC,IAAD,CAAKY,GAAI,CAACQ,KAAM,EAAGC,OAAQ,GAAIrB,UAAU,eACzC,yGACA,kBAAC,IAAKsB,QAAN,CAAc7E,KAAK,OAAO8E,MAAOrC,EAAa,SAASlD,KAAKJ,MAAMmD,MAAMQ,OAAOC,GAAIgC,UAAQ,QAO3F,kBAAC,IAAD,CAAWxB,UAAU,2BACrB,+C,GAzHkBlE,IAAMwB,WCXrB,SAASmE,EAAe7F,GAC9B,OACC,yBAAKoE,UAAU,6BAA6BC,IAAKrE,EAAM8F,IACrD9F,EAAMuF,MAKH,SAASQ,EAAa/F,GAO5B,OACC,yBAAKoE,UAAU,4BAA4BC,IAAKrE,EAAMgG,MAAMF,IAC1D9F,EAAMgG,MAAMT,KADd,OACwBvF,EAAMgG,MAAMC,QAAQZ,IAAI,SAAAa,GAAC,OAAIA,EAAEX,OAAMY,KAAK,O,IA4CrDC,E,YAtCd,WAAYpG,GAAQ,IAAD,8BAClB,4CAAMA,KAEDwD,MAAQ,CACZ5B,MAAOC,KAAKC,IAAI,EAAG,EAAK9B,MAAMM,KAAKyB,SAJlB,E,wEAelB3B,KAAK4D,SAAS,CAACpC,MAAOC,KAAKC,IAAI1B,KAAKoD,MAAM5B,MAAQ,EAAGxB,KAAKJ,MAAMM,KAAKyB,Y,+BAQrE,IADA,IAAIsE,EAAO,GACHC,EAAE,EAAGA,EAAElG,KAAKoD,MAAM5B,MAAO0E,IAChCD,EAAKE,KACJnG,KAAKJ,MAAMwG,MAAMpG,KAAKJ,MAAMM,KAAKgG,KAGnC,OACC,yBAAKlC,UAAU,cACbiC,EACAjG,KAAKoD,MAAM5B,MAAQxB,KAAKJ,MAAMM,KAAKyB,QAAU,kBAAC,IAAD,CAAQa,QAASxC,KAAKyC,SAASH,KAAKtC,OAApC,kB,GAhCrBF,IAAMwB,WCiEpB+E,E,YAhFd,WAAYzG,GAAQ,IAAD,8BAClB,4CAAMA,KAEDwD,MAAQ,CACZlD,KAAM,KACNmD,MAAO,MALU,E,iFASE,IAAD,OACnBC,MAAMN,EAAU,WAAahD,KAAKJ,MAAMmD,MAAMQ,OAAO+C,IAAM,IAAMtG,KAAKJ,MAAMmD,MAAMQ,OAAOgD,KACxF9C,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAvD,GACL,EAAK0D,SAAS,CAAE1D,WAEhB2D,MAAM,SAAAR,GACN,EAAKO,SAAS,CAACP,c,+BAKhB,OAAwB,MAApBrD,KAAKoD,MAAMC,MAEb,kBAAC,IAAD,CAAWW,UAAU,2BACrB,oFAIyB,MAAnBhE,KAAKoD,MAAMlD,KAEjB,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAK8D,UAAU,iBAEf,kBAAC,IAAD,CAAKA,UAAU,eACd,kBAAC,IAAD,CAAKY,GAAI,GAAIC,GAAI,GAChB,wBAAIG,KAAM,YAAchF,KAAKoD,MAAMlD,KAAKsG,MAAMhD,IAAKxD,KAAKoD,MAAMlD,KAAKsG,MAAMC,OAE1E,kBAAC,IAAD,CAAK7B,GAAI,GAAIC,GAAI,GAChB,sCAED,kBAAC,IAAD,CAAKD,GAAI,GAAIC,GAAI,GAChB,4BAAK7E,KAAKoD,MAAMlD,KAAKwG,MAAMD,QAG7B,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAK7B,GAAI,GAAIC,GAAI,CAACO,KAAM,EAAGC,OAAO,GAAIrB,UAAU,eAAhD,QACOhE,KAAKoD,MAAMlD,KAAKyG,MAAMhF,OAD7B,cACgD3B,KAAKoD,MAAMlD,KAAKmE,QAAQ1C,OADxE,sBAEC,6BAFD,WAGUF,KAAKmF,MAAmC,IAA7B5G,KAAKoD,MAAMlD,KAAKyG,MAAMhF,QAAc3B,KAAKoD,MAAMlD,KAAKsG,MAAMK,UAAY7G,KAAKoD,MAAMlD,KAAKwG,MAAMG,YAAY,IAH7H,kCAOD,kBAAC,IAAD,CAAK7C,UAAU,4BACd,kBAAC,IAAD,CAAKY,GAAI,GAAIC,GAAI,GAChB,0DACA,kBAAC,EAAD,CACC3E,KAAMF,KAAKoD,MAAMlD,KAAKyG,MACtBP,MAAOT,KAIT,kBAAC,IAAD,CAAKf,GAAI,GAAIC,GAAI,GAChB,wDACA,kBAAC,EAAD,CACC3E,KAAMF,KAAKoD,MAAMlD,KAAKmE,QACtB+B,MAAOX,OAQX,kBAAC,IAAD,CAAWzB,UAAU,2BACrB,+C,GA3EkBlE,IAAMwB,WCSbwF,MAZf,WACE,OAEM,kBAAC,IAAD,CAAW9C,UAAU,2BACrB,wBAAIA,UAAU,gBAAd,cACA,4GACA,kBAAC,IAAD,CAAQI,QAAQ,UAAUY,KAAMhC,EAAU,gBAA1C,kB,MCAR,SAAS+D,EAAT,GAAoC,IAAVhE,EAAS,EAATA,MAExB,OADAH,OAAOC,SAASmC,KAAOhC,EAAU,SAAWD,EAAMQ,OAAOC,GAClD,KAgBMwD,MAbf,WACE,OACE,kBAAC,IAAD,KAEE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWL,IACjC,kBAAC,IAAD,CAAOG,KAAK,eAAeE,UAAWhE,IACtC,kBAAC,IAAD,CAAO8D,KAAK,qBAAqBE,UAAWd,IAC5C,kBAAC,IAAD,CAAOY,KAAK,aAAaE,UAAWJ,MCZtBpE,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNqE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjE,KAAK,SAAAkE,GACjCA,EAAaC,gB","file":"static/js/main.d17919f4.chunk.js","sourcesContent":["import React from 'react';\nimport Chart from 'chart.js';\n\n\nclass PieChart extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.canvasRef = React.createRef();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.chart.data.labels = this.props.labels;\n\t\tthis.chart.data.datasets[0].data = this.props.values;\n\t\tthis.chart.update();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.chart = new Chart(this.canvasRef.current, {\n\t\t\ttype: 'pie',\n\t\t\toptions: {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tmaintainAspectRatio: true,\n\t\t\t\taspectRatio: 1,\n\t\t\t\ttooltips: {\n\t\t\t      callbacks: {\n\t\t\t        label: function(tooltipItem, data) {\n\t\t\t        \treturn data.labels[tooltipItem.index] + \" : \" + parseInt(100*data.datasets[0].data[tooltipItem.index]) + \"%\"\n\t\t\t\t        }\n\t\t\t\t    },\n\t\t\t\t},\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tlabels: this.props.labels,\n\t\t\t\tdatasets: [{\n\t\t\t\t\tdata: this.props.values,\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\n\t}\n\n\trender() {\n\t\treturn <canvas ref={this.canvasRef} />;\n\t}\n\n}\n\nexport default PieChart\n\n\n","import React from 'react';\nimport Chart from 'chart.js';\nimport Button from 'react-bootstrap/Button';\n\n\nclass HorizontalBarChart extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.canvasRef = React.createRef();\n\n\t\tthis.shown = Math.min(5, this.props.labels.length)\n\t\tthis.labelsShown = this.props.labels.slice(0,this.shown)\n\t\tthis.valuesShown = this.props.values.slice(0,this.shown)\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.chart.data.labels = this.props.labels.slice(0, this.shown)\n\t\tthis.chart.data.datasets[0].data = this.props.values.slice(0,this.shown)\n\t\tthis.chart.update();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.chart = new Chart(this.canvasRef.current, {\n\t\t\ttype: 'horizontalBar',\n\t\t\toptions: {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tfontColor: 'white'\n\t\t\t\t\t\t},\n\t\t\t\t\t}],\n\t\t\t\t\txAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero:true,\n\t\t\t\t\t\t\tfontColor: 'white'\n\t\t\t\t\t\t},\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\tmaintainAspectRatio: true,\n\t\t\t\taspectRatio: 1,\n\t\t\t\ttooltips: {\n\t\t\t      callbacks: {\n\t\t\t        label: function(tooltipItem, data) {\n\t\t\t        \treturn data.labels[tooltipItem.index] + \" : \" + data.datasets[0].data[tooltipItem.index] + \" \" + this.props.tooltipUnit;\n\t\t\t\t        }.bind(this)\n\t\t\t\t    },\n\t\t\t\t},\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tlabels: this.labelsShown,\n\t\t\t\tdatasets: [{\n\t\t\t\t\tdata: this.valuesShown,\n\t\t\t\tbackgroundColor: \"rgba(255,255,255,1)\",\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\n\t}\n\n\tloadMore() {\n\t\tthis.shown = Math.min(this.shown + 1, this.props.labels.length)\n\t\tthis.chart.data.labels = this.props.labels.slice(0, this.shown)\n\t\tthis.chart.data.datasets[0].data = this.props.values.slice(0,this.shown)\n\t\tthis.chart.update();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<canvas ref={this.canvasRef} />\n\t\t\t\t{this.shown < this.props.labels.length && <Button onClick={this.loadMore.bind(this)}>Load More</Button>}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default HorizontalBarChart\n\n\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport const api_url = isLocalhost ? \"http://localhost:8080/api/\" : window.location.origin + \"/api/\"\nexport const frontend_url = isLocalhost ? \"http://localhost:3000/\" : window.location.origin + \"/\"","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\n\nimport PieChart from './PieChart';\nimport HorizontalBarChart from './HorizontalBarChart'\nimport {api_url, frontend_url} from \"./variables\"\n\nclass Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdata: null,\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(api_url + 'profile/' + this.props.match.params.id)\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({ data })\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.setState({error})\n\t\t});\n\t}\n\n\trender () {\n\n\t\tvar totalSongs = 0\n\t\tvar totalGenres = 0\n\t\tif (this.state.error != null) {\n\t\t\treturn (\n\t\t\t\t<Container className=\"center-page text-center\">\n\t\t\t\t<h1>An error occurred. Try refreshing this page or reloading your spotify data</h1>\n\t\t\t\t<OverlayTrigger\n\t\t\t\tkey=\"refresh\"\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\toverlay={\n\t\t\t\t\t<Tooltip id=\"tooltip-refresh\">\n\t\t\t\t\tRe-fetch your data from Spotify to get updates since the last time you've refreshed (songs added or removed)\n\t\t\t\t\t</Tooltip>\n\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t<Button variant=\"secondary\"> Reload\n\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t</Container>)\n\t\t}\n\n\t\telse if(this.state.data != null){\n\t\t\ttotalSongs = this.state.data.artists.reduce((a,b) => a + parseInt(b.SongCount),0)\n\t\t\ttotalGenres = this.state.data.genres.reduce((a,b) => a + parseInt(b.ArtistCount),0)\n\n\t\t\treturn(\n\t\t\t\t<Container>\n\t\t\t\t<Row className=\"pad-vertical\">\n\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\tLast Refreshed: {this.state.data.last_refreshed}\t\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={12} md={4} className=\"text-center\">\n\t\t\t\t<h2>{this.state.data.username}</h2>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={12} md={4} className=\"text-right\">\n\t\t\t\t<OverlayTrigger\n\t\t\t\tkey=\"refresh\"\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\toverlay={\n\t\t\t\t\t<Tooltip id=\"tooltip-refresh\">\n\t\t\t\t\tRe-fetch your data from Spotify to get updates since the last time you've refreshed (songs added or removed)\n\t\t\t\t\t</Tooltip>\n\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t<Button variant=\"secondary\" href={api_url + \"authenticate\"}> Reload\n\t\t\t\t</Button>\n\t\t\t\t</OverlayTrigger>\n\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t\n\t\t\t\t<Row  className=\"pad-vertical\">\n\t\t\t\t<Col xs={12} md={6}>\n\t\t\t\t<h3 className=\"text-center\"> Your library, by artists: </h3>\n\t\t\t\t<PieChart\n\t\t\t\tlabels={this.state.data.artists.map(d => d.Name)}\n\t\t\t\tvalues={this.state.data.artists.map(d => d.SongCount/totalSongs)}\n\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={12} md={6}>\n\t\t\t\t<h3 className=\"text-center\"> Your library, by genres: </h3>\n\t\t\t\t<PieChart\n\t\t\t\tlabels={this.state.data.genres.map(d => d.Name)}\n\t\t\t\tvalues={this.state.data.genres.map(d => d.ArtistCount/totalGenres)}\n\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Row  className=\"pad-vertical\">\n\t\t\t\t<Col xs={12} md={6} className=\"text-center\">\n\t\t\t\t<h3> Your top artists: </h3>\n\t\t\t\t<HorizontalBarChart\n\t\t\t\tlabels={this.state.data.artists.map(d => d.Name)}\n\t\t\t\tvalues={this.state.data.artists.map(d => d.SongCount)}\n\t\t\t\ttooltipUnit=\"songs\"\n\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={12} md={6} className=\"text-center\">\n\t\t\t\t<h3> Your top genres: </h3>\n\t\t\t\t<HorizontalBarChart\n\t\t\t\tlabels={this.state.data.genres.map(d => d.Name)}\n\t\t\t\tvalues={this.state.data.genres.map(d => d.ArtistCount)}\n\t\t\t\ttooltipUnit=\"artists\"\n\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\n\t\t\t\t<Row  className=\"pad-vertical\">\n\t\t\t\t<Col xs={{span: 8, offset: 2}} className=\"text-center\">\n\t\t\t\t<h4> Want to compare your tastes with a friend's? Share this link with them! </h4>\n\t\t\t\t<Form.Control type=\"text\" value={frontend_url+\"share/\"+this.props.match.params.id} readOnly />\n\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t</Container>)\n\t\t}\n\t\telse {\n\t\t\treturn(\n\t\t\t\t<Container className=\"center-page text-center\">\n\t\t\t\t<h1>Loading...</h1>\n\t\t\t\t</Container>)\n\t\t}\t\t\n\t}\n}\n\nexport default Profile","import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\nexport function ArtistListItem(props){\n\treturn (\n\t\t<div className=\"list-group-item text-right\" key={props.Id}>\n\t\t\t{props.Name}\n\t\t</div>\n\t)\n}\n\nexport function SongListItem(props){\n\t// var artists = \"\"\n\n\t// if (props.Track.Artists.length == 1){\n\t// \tartists = props.Track.Artists[0].Name\n\t// }\n\n\treturn (\n\t\t<div className=\"list-group-item text-left\" key={props.Track.Id}>\n\t\t\t{props.Track.Name} by {props.Track.Artists.map(e => e.Name).join(\", \")}\n\t\t</div>\n\t)\n}\n\nclass ExtendibleList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tshown: Math.min(5, this.props.data.length)\n\t\t}\n\t}\n\n\t// componentDidUpdate() {\n\t// \tthis.chart.data.labels = this.props.labels.slice(0, this.shown)\n\t// \tthis.chart.data.datasets[0].data = this.props.values.slice(0,this.shown)\n\t// \tthis.chart.update();\n\t// }\n\n\tloadMore() {\n\t\tthis.setState({shown: Math.min(this.state.shown + 5, this.props.data.length)})\n\t\t// this.chart.data.labels = this.props.labels.slice(0, this.shown)\n\t\t// this.chart.data.datasets[0].data = this.props.values.slice(0,this.shown)\n\t\t// this.chart.update();\n\t}\n\n\trender() {\n\t\tvar rows = [];\n\t\tfor(var i=0; i<this.state.shown; i++){\n\t\t\trows.push(\n\t\t\t\tthis.props.child(this.props.data[i])\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"list-group\">\n\t\t\t\t{rows}\n\t\t\t\t{this.state.shown < this.props.data.length && <Button onClick={this.loadMore.bind(this)}>Load More</Button>}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default ExtendibleList\n\n\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\n\nimport ExtendibleList, {ArtistListItem, SongListItem} from './ExtendibleList';\nimport {api_url} from \"./variables\"\n\nclass Compare extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdata: null,\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(api_url + 'compare/' + this.props.match.params.id1 + \"/\" + this.props.match.params.id2)\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({ data })\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.setState({error})\n\t\t});\n\t}\n\n\trender () {\n\t\tif (this.state.error != null) {\n\t\t\treturn (\n\t\t\t\t<Container className=\"center-page text-center\">\n\t\t\t\t<h1>An error occurred. Please try refreshing this page.</h1>\n\t\t\t\t</Container>)\n\t\t}\n\n\t\telse if(this.state.data != null){\n\t\t\treturn(\n\t\t\t\t<Container>\n\t\t\t\t\t<Row className=\"pad-vertical\"/>\n\n\t\t\t\t\t<Row className=\"text-center\">\n\t\t\t\t\t\t<Col xs={12} md={3}>\n\t\t\t\t\t\t\t<h4 href={\"/profile/\" + this.state.data.user1.id}>{this.state.data.user1.name}</h4>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12} md={6} >\n\t\t\t\t\t\t\t<h5> and </h5>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12} md={3}>\n\t\t\t\t\t\t\t<h4>{this.state.data.user2.name}</h4>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={12} md={{span: 8, offset:2}} className=\"text-center\">\n\t\t\t\t\t\t\thave {this.state.data.songs.length} songs and {this.state.data.artists.length} artists in common!\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\tThis is {Math.round(this.state.data.songs.length*20000/(this.state.data.user1.songcount + this.state.data.user2.songcount))/100}% of your combined libraries.\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t<Row className=\"text-center pad-vertical\">\n\t\t\t\t\t\t<Col xs={12} md={6} >\n\t\t\t\t\t\t\t<h4> Songs you've both saved: </h4>\n\t\t\t\t\t\t\t<ExtendibleList\n\t\t\t\t\t\t\t\tdata={this.state.data.songs}\n\t\t\t\t\t\t\t\tchild={SongListItem}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col xs={12} md={6} >\n\t\t\t\t\t\t\t<h4> Artists you both like: </h4>\n\t\t\t\t\t\t\t<ExtendibleList\n\t\t\t\t\t\t\t\tdata={this.state.data.artists}\n\t\t\t\t\t\t\t\tchild={ArtistListItem}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>)\n\t\t}\n\t\telse {\n\t\t\treturn(\n\t\t\t\t<Container className=\"center-page text-center\">\n\t\t\t\t<h1>Loading...</h1>\n\t\t\t\t</Container>)\n\t\t}\t\t\n\t}\n}\n\nexport default Compare","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport {api_url} from \"./variables\"\n\n\nfunction Home () {\n  return (\n    \n        <Container className=\"center-page text-center\">\n        <h1 className=\"pad-vertical\">SPOTIFRIED</h1>\n        <h3>Analyze your spotify music library and compare your tastes with your friends</h3>\n        <Button variant=\"success\" href={api_url + \"authenticate\"}>Let's do it!</Button>\n        </Container>\n  )\n}\n\n\nexport default Home;\n","import React from 'react';\nimport { BrowserRouter as Router, Route} from \"react-router-dom\";\n\n\nimport Profile from './Profile';\nimport Compare from './Compare';\nimport Home from './Home';\nimport {api_url} from \"./variables\"\n\nimport './App.css';\n\n\nfunction ShareRedirect ({ match }) {\n  window.location.href = api_url + \"share/\" + match.params.id\n  return null \n}\n\nfunction App() {\n  return (\n    <Router>\n\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/profile/:id\" component={Profile} />\n      <Route path=\"/compare/:id1/:id2\" component={Compare} />\n      <Route path=\"/share/:id\" component={ShareRedirect} />\n\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}